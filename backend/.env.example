# Server Configuration
PORT=5000
NODE_ENV=development

# Auth0 (Backend)
# IMPORTANT: These are BACKEND env vars (not VITE_*)
AUTH0_DOMAIN=your-tenant.eu.auth0.com
AUTH0_CLIENT_ID=your_auth0_client_id

# Optional but recommended:
# If you use an API Audience in Auth0, set it here and validate "aud" claim.
AUTH0_AUDIENCE=

# Optional: Issuer override (rare)
AUTH0_ISSUER=

# Database Configuration
MONGO_URI=mongodb://localhost:27017/northstar

# PostgreSQL Configuration (Prisma)
# NOTE: `DATABASE_URL` is reserved for PostgreSQL/Prisma. To avoid ambiguity, always set `MONGO_URI` for MongoDB.
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/northstar?schema=public

# Legacy alternative (Mongo fallback): DATABASE_URL=mongodb://localhost:27017/northstar

# Phase 7: disable Mongo fallback reads once Postgres is authoritative/complete
# (Default: true in development, false in production)
MONGO_FALLBACK_ENABLED=

# Phase 8.1 — runtime parity validation (read-only)
# Enables PG vs Mongo count comparison on reads
RUNTIME_PARITY_CHECK=false

# =========================
# Phase 8.2 — Audit Logging
# =========================
# Enables structured audit logs for AI message reads/writes
# (metadata only — no message content)
AUDIT_LOG_ENABLED=false

# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production
JWT_EXPIRES_IN=7d
JWT_COOKIE_NAME=ns_token

# =========================
# Auth Mode Control
# =========================
# PARKED   = auth bypassed (dev / migration)
# ENABLED  = Auth0 + backend session required
AUTH_MODE=PARKED

# Auth Security Configuration
AUTH_MAX_LOGIN_ATTEMPTS=5
AUTH_LOCKOUT_MINUTES=15
AUTH_MAX_OTP_ATTEMPTS=5
AUTH_OTP_LOCKOUT_MINUTES=15

# Frontend Configuration
CLIENT_URL=http://localhost:5173

# OpenAI Configuration (for AI Coach features)
OPENAI_API_KEY=your_openai_api_key_here

# Anthropic Configuration (for Claude AI features)
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# OAuth Providers
FACEBOOK_CLIENT_ID=
FACEBOOK_CLIENT_SECRET=
FACEBOOK_OAUTH_REDIRECT_URI=http://localhost:5000/api/auth/facebook/callback
FACEBOOK_CALLBACK_PATH=/auth/facebook/callback
FACEBOOK_OAUTH_SCOPES=public_profile,email

# Email Configuration (for verification and password reset)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your_email@gmail.com
# SMTP_PASS=your_email_password
# SMTP_FROM=noreply@northstar.app

# Stripe Configuration (for subscriptions)
# STRIPE_SECRET_KEY=your_stripe_secret_key
# STRIPE_PUBLISHABLE_KEY=your_stripe_publishable_key
# STRIPE_WEBHOOK_SECRET=your_stripe_webhook_secret

# Wearable Integration Placeholders (Coming Soon)
# These require OAuth implementation and/or business agreements with providers
HEALTHCONNECT_ENABLED=false
FITBIT_CLIENT_ID=
FITBIT_CLIENT_SECRET=
STRAVA_CLIENT_ID=
STRAVA_CLIENT_SECRET=
APPLE_HEALTHKIT_ENABLED=false
OURA_API_KEY=
WHOOP_CLIENT_ID=
WHOOP_CLIENT_SECRET=
GARMIN_CLIENT_ID=
GARMIN_CLIENT_SECRET=
